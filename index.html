<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<title>Introducció al JavaScript</title>

		<link rel="stylesheet" href="css/reveal.css">
		<link rel="stylesheet" href="css/theme/black.css">

		<!-- Theme used for syntax highlighting of code -->
		<link rel="stylesheet" href="lib/css/zenburn.css">

		<!-- Printing and PDF exports -->
		<script>
			var link = document.createElement( 'link' );
			link.rel = 'stylesheet';
			link.type = 'text/css';
			link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
			document.getElementsByTagName( 'head' )[0].appendChild( link );
		</script>
	</head>
	<body>
		<div class="reveal">
			<div class="slides">
				<section>
					<h1>Introducció al JavaScript</h1>
					<h3>Fonaments bàsics</h3>
					<p>
						<small>Creat per en <a href="http://https://twitter.com/rvilar">Ramon Vilar</a> d'<a href="http://ymbra.com">Ymbra</a></small>
					</p>
				</section>

				<section>
					<h2>Una mica d’introducció</h2>
					<ul>
						<li>El JavaScript (JS) és un llenguatge de programació dinàmic que, aplicat a un document HTML, pot proporcionar interacció i dinamisme a les nostres pàgines web.</li>
						<li>L’estàndard s’anomena ECMAScript
							<ul>
								<li>Actualment en procés d’implantació de la seva versió 6: ES6</li>
								<li>Es poden veure les millores que introdueix a http://es6-features.org</li>
							</ul>
						</li>
					</ul>
				</section>
				<section>
					<section>
						<h2>Un exemple senzill</h2>
						<p>Si partim d'un codi HTML senzill com el següent:</p>
						<pre><code class="html" data-trim>
&lt;!DOCTYPE html&gt;
&lt;html&gt;
  &lt;head&gt;
    <meta charset="utf-8">
    <title>My test page</title>
  &lt;/head&gt;
  &lt;body&gt;
    <h1>Hello world!</h1>
  &lt;/body&gt;
&lt;/html&gt;</code></pre>
					</section>
					<section>
						<h2>Un exemple senzill</h2>
						<p>Podem afegir la crida a un fitxer JS tot afegint el següent element abans del tancament de l'etiqueta <code>&lt;/body&gt;</code></p>
						<pre><code class="html">&lt;script src="scripts/main.js"&gt;</code></pre>
					</section>
					<section>
						<h2>Un exemple senzill</h2>
						<p>I podem afegir aquestes senzilles línies al nostre fitxer <code>main.js</code></p>
						<pre><code class="js" data-trim>
var myHeading = document.querySelector('h1');
myHeading.textContent = 'Hello JavaScript world!';
						</code></pre>
						<p class="fragment">...i benvinguts al món del JavaScript!</p>
					</section>
				</section>
				<section>
					<h2>Regles bàsiques</h2>
					<ul>
						<li>Tot i que no és obligatori, punt i coma al final de cada línia</li>
						<li>JS és caseSensitive
							<pre><code class="js">myvariable !== myVariable</code></pre>
						</li>
					</ul>
				</section>
				<section>
					<h2>Eines de treball</h2>
					<p>Les nostres eines de treball bàsiques per a programar JS són:</p>
					<ul>
						<li>Un editor de codi</li>
						<li>Un navegador i la seva consola/depurador</li>
					</ul>
				</section>
				<section>
					<h2>Suport en navegadors</h2>
					<ul>
						<li><a href="https://caniuse.com/">caniuse.com</a>: Taules de suport per a diverses APIs i propietats HTML5, CSS3 i JS</li>
						<li><a href="https://babeljs.io/">babel.js</a>: Biblioteca que transforms ES6 en ES5</li>
					</ul>
				</section>
				<section>
					<h1>Els bàsics</h1>
				</section>
				<section>
					<h2>Comentaris</h2>
					<p>No difereix gaire d'altres llenguatges de programació.</p>
					<pre><code class="js">// This is a comment.</code></pre>
					<pre><code class="js" data-trim>
/*
  This is a block
  comment with
  multiple lines.
*/
</code></pre>
				</section>
				<section>
					<section>
						<h2>Variables - <code class="js">var</code></h2>
						<p>Les variables són contenidors per a valors que es poden usar més tard en sentències programàtiques.</p>
						<pre><code class="js">var myName;
var mySurname;
myName = 'Ramon';
mySurname = 'Vilar';
var myAge = 34;</code></pre>
					</section>
					<section>
						<h2>Variables - <code>var</code></h2>
						<p>L'àmbit d'una variable declarada amb <code>var</code> és el seu context d'execució, és a dir, la funció que l'envolta o, en cas de no haver-hi funció, el seu àmbit seria global.</p>
						<p>Les variables en JS poden ser redeclarades (i no perden el seu valor).</p>
					</section>
					<section>
						<h2>Variables - <code>var</code></h2>
						<pre><code class="js" data-trim>
function x() {
	y = 1;   // ReferenceError in strict mode
	var z = 2;
}

x();

console.log(y); // logs "1"
console.log(z); // ReferenceError: z is not defined outside x</code></pre>
					</section>
					<section>
						<h2>Variables - <code>var</code></h2>
						<p>La declaració de variables es processa abans que s'executi cap codi.</p>
						<pre><code class="js" data-trim>
bla = 2;
var bla;

// is implicitly understood as:

var bla;
bla = 2;
						</code></pre>
						<p class="fragment">Per tant, es recomana que sempre es declarin les variablesa l'inici del nostre codi i/o funcions.</p>
					</section>
					<section>
						<h2>Variables - <code>let</code></h2>
						<p>ES6 introdueix les variables s'ambit de bloc</p>
						<pre><code class="js" data-trim>
let x = 1;

if (x === 1) {
  let x = 2;

  console.log(x);
  // expected output: 2
}

console.log(x);
// expected output: 1
						</code></pre>
					</section>
					<section>
						<h2>Variables - <code>let</code></h2>
						<pre><code class="js" data-trim>
function varTest() {
  var x = 1;
  if (true) {
    var x = 2;  // same variable!
    console.log(x);  // 2
  }
  console.log(x);  // 2
}

function letTest() {
  let x = 1;
  if (true) {
    let x = 2;  // different variable
    console.log(x);  // 2
  }
  console.log(x);  // 1
}
					 </code></pre>
				 </section>
				 <section>
					 <h2>Variables - <code>const</code></h2>
					 <p>ES6 també introdueix un tipus especial de variables de bloc però que el seu valor esdevé constant i no es pot declarar.</p>
					 <pre><code class="js" data-trim>const number = 42;

try {
  number = 99;
} catch(err) {
  console.log(err);
  // expected output: TypeError: invalid assignment to const `number'
  // Note - error messages will vary depending on browser
}

console.log(number);
// expected output: 42
</code></pre>
				 </section>
			 </section>
			 <section>
				 <section>
					 <h2>Nombres</h2>
					 <p>En programació hi ha diversos tipus numèrics</p>
					 <ul>
						 <li>Enters</li>
						 <li>Coma flotant</li>
						 <li><em>Doubles</em></li>
						 <li>Binari</li>
						 <li>Octal</li>
						 <li>Hexadecimal</li>
					 </ul>
					 <p class="fragment">A JS tot són <code>number</code></p>
				 </section>
				 <section>
					 <h2>Nombres</h2>
					 <pre><code class="js" data-trim>var myInt = 5;
var myFloat = 6.667;
typeof myInt; // "number"
typeof myFloat; // "number"
</code></pre>
				</section>
				<section>
					<h2>Operadors</h2>
					<ul>
						<li>Aritmètics: <code>+</code>, <code>-</code>, <code>*</code>, <code>/</code>, <code>%</code></li>
						<li>Increment/decrement: <code>++</code>, <code>--</code></li>
						<li>Assignació amb increment: <code>+=</code>, <code>-=</code>, <code>*=</code>, <code>/=</code></li>
						<li>Comparació: <code>===</code>, <code>!==</code>, <code>&lt;</code>, <code>&gt;</code>, <code>&lt;=</code>, <code>&gt;=</code></li>
					</ul>
				</section>
				<section>
					<h2>Operadors de comparació</h2>
					<p>És correcte l'ús de <code>==</code> i de <code>===</code>, però no funcionen igual.</p>
					<p class="fragment">L'ún comprova els valors i l'altre a més a més, els tipus.</p>
					<pre class="fragment"><code class="js" data-trim>
"" == false // true
"" === false // false
</code></pre>
				</section>
			 </section>
			 <section>
				 <section>
					 <h2>Strings</h2>
					 <p>Es poden declarar usant <code>"</code> o <code>'</code>.</p>
					 <p class="fragment">Es recomana escollir un dels dos i usar sempre el mateix.</p>
					 <pre class="fragment"><code class="js" data-trim>
var single = 'Single quotes.';
var double = "Double quotes.";
					</code></pre>
				</section>
				<section>
					<h2>Strings - concatenació</h2>
					<p>Es poden concatenar strings usant <code>+</code>.</p>
					<pre><code class="js" data-trim>var one = 'Hello, ';
var two = 'how are you?';
var joined = one + two;</code></pre>
				</section>
				<section>
					<h2>Strings - mètodes</h2>
					<p>Per saber la mida d'una cadena, podem usar el mètode <code>length</code>.</p>
					<pre><code class="js" data-trim>var myName = "Ramon";
myName.length // 5</code></pre>
				</section>
				<section>
					<h2>Strings - mètodes</h2>
					<p>Per accedir als caràcters d'una cadena es pot usar la notació d'array <code>[]</code>.</p>
					<pre><code class="js" data-trim>myName[0]  // 'R'
myName[myName.length -1]  // 'n'</code></pre>
				</section>
				<section>
					<h2>Strings - mètodes</h2>
					<p>Pot interessar veure si part d'una cadena existeix dins d'una altra. Per això es pot usar <code>indexOf()</code>.</p>
					<pre><code class="js" data-trim>myName.indexOf('mon'); // 2
myName.indexOf('Marta'); // -1</code></pre>
				</section>
				<section>
					<h2>Strings - mètodes</h2>
					<p>Es poden extreure parts d'una cadena usant <code>slice()</code>.</p>
					<pre><code class="js" data-trim>myName.slice(0, 3); // 'Ram'
myName.slice(2); // 'mon'</code></pre>
				</section>
				<section>
					<h2>Strings - mètodes</h2>
					<p>El canvi de caixa és una de la típica operació de programació.</p>
					<pre><code class="js" data-trim>var radData = 'My NaMe Is èLIa';
radData.toLowerCase();
radData.toUpperCase();</code></pre>
				</section>
				<section>
					<h2>Strings - mètodes</h2>
					<p>Podem reemplaçar parts d'un string usant <code>replace()</code></p>
					<pre><code class="js" data-trim>myName.replace('mon', 'fel');</code></pre>
				</section>
				<section>
					<h2>Strings - Exercici</h2>
					<pre><code class="js" data-trim>var greetings = ['Feliç aniversari!',
                 'Bon Nadal amic meu',
                 'Un bon Nadal a tota la família!',
                 'Us vull a tots per Nadal',
                 'Sigueu feliços sempre'];

for (var i = 0; i < greetings.length; i++) {
  var input = greetings[i];
  // Si només vull veure felicitacions del Nadal.
  if (greetings[i]) {
    console.log(input);
  }
}</code></pre>
				</section>
				<section>
					<h2>Strings - Exercici</h2>
					<pre><code class="js" data-trim>var cities = ['lonDon', 'ManCHESTer', 'BiRmiNGHAM', 'liVERpoOL'];
for(var i = 0; i < cities.length; i++) {
  var input = cities[i];
  // write your code just below here

  console.log(input);
}</code></pre>
				</section>
				<section>
					<h2>Strings - Exercici</h2>
					<pre><code class="js" data-trim>var stations = ['MAN675847583748sjt567654;Manchester Piccadilly',
                'GNF576746573fhdg4737dh4;Greenfield',
                'LIV5hg65hd737456236dch46dg4;Liverpool Lime Street',
                'SYB4f65hf75f736463;Stalybridge',
                'HUD5767ghtyfyr4536dh45dg45dg3;Huddersfield'];

for (var i = 0; i < stations.length; i++) {
  var input = stations[i];
  // write your code just below here

  console.log(input);
}
</code></pre>
				</section>
			</section>
			<section>
				<section>
					<h2>Arrays</h2>
					<p>Es declaren usant claudàtors <code>[]</code>.</p>
					<pre><code class="js">var shopping = ['bread', 'milk', 'cheese', 'hummus', 'noodles'];
var sequence = [1, 1, 2, 3, 5, 8, 13];
var random = ['tree', 795, [0, 1, 2]];</code></pre>
				</section>
				<section>
					<h2>Arrays - Accés i modificació</h2>
					<p>S'accedeix utilitzant <code>[]</code>.</p>
					<pre><code class="js">shopping[0]; // returns "bread"
shopping[0] = 'tahini';
shopping; // [ "tahini", "milk", "cheese", "hummus", "noodles" ]</code></pre>
				</section>
				<section>
					<h2>Arrays - Mida</h2>
					<p>Per saber la mida d'un array usem <code>length</code>.</p>
					<pre><code class="js">sequence.length; // 7</code></pre>
					<p class="fragment">No confonguem mida amb número de valors. <code>length</code> retorna el darrer índex + 1.</p>
					<pre class="fragment"><code class="js">sequence[100] = 23;
sequence.length; // 101</code></pre>
				</section>
				<section>
					<h2>Arrays - Mètodes</h2>
					<p>Diverses formes de passar entre string y array.</p>
					<pre><code class="js">var myData = 'Manchester,London,Liverpool,Birmingham,Leeds,Carlisle';
var myArray = myData.split(',');
myArray[0]; // 'Manchester'
myArray[myArray.length - 1]; // 'Carlisle'
var myNewString = myArray.join(',');

var dogNames = ["Rocket","Flash","Bella","Slugger"];
dogNames.toString(); //Rocket,Flash,Bella,Slugger</code></pre>
				</section>
				<section>
					<h2>Arrays - Mètodes</h2>
					<p>Es poden afegir y treure elements del final d'un array usant <code>push()</code> i <code>pop()</code>.</p>
					<pre><code class="js">var myArray = ['Manchester', 'London', 'Liverpool', 'Birmingham', 'Leeds', 'Carlisle'];
myArray.push('Cardiff');
myArray.push('Bradford', 'Brighton');
var newLength = myArray.push('Bristol');

myArray.pop(); // 'Bristol'
var removedItem = myArray.pop(); // 'Brighton'</code></pre>
				</section>
				<section>
					<h2>Arrays - Mètodes</h2>
					<p>Igualment es poden afegir y treure elements del principi d'un array usant <code>unshift()</code> i <code>shift()</code>.</p>
					<pre><code class="js">myArray.unshift('Edinburgh');

var removedItem = myArray.shift();</code></pre>
				</section>
				<section>
					<h2>Arrays - Exercici</h2>
					<pre><code class="js">var total = 0;
// TODO
'Underpants:6.99'
'Socks:5.99'
'T-shirt:14.99'
'Trousers:31.99'
'Shoes:23.99';

for (var i = 0; i <= 0; i++) { // TODO
  // TODO
  itemText = 0;

  console.log(itemText);
}

console.log('Total: ' + total.toFixed(2) + ' €');</code></pre>
				</section>
			</section>
			<section>
				<section>
					<h2>Condicionals</h2>
					<pre><code class="js">if (condition) {
  // code to run if condition is true.
} else if (condition2){
  // run some other code instead.
} else {
  // run some other code instead.
}</code></pre>
				</section>
				<section>
					<h2>Un apunt important</h2>
					<p>Qualsevol que no sigui <code>false</code>, <code>undefined</code>, <code>null</code>, <code>0</code>, <code>NaN</code> o un string buit ('') retorna <code>true</code>.</p>
					<pre><code class="js">var cheese = 'Cheddar';

if (cheese) {
  console.log('Yay! Cheese available for making cheese on toast.');
} else {
  console.log('No cheese on toast for you today.');
}</code></pre>
				</section>
				<section>
					<h2>Operadors lògics</h2>
					<pre><code class="js">if (choice === 'sunny' && temperature < 86) {
  // Your code.
} else if (iceCreamVanOutside || houseStatus === 'on fire') {
  // More code.
}</code></pre>
				</section>
				<section>
					<h2>Més condicionals</h2>
					<pre><code class="js">switch (expression) {
  case choice1:
    // run this code
    break;

  case choice2:
    // run this code instead
    break;

  default:
    // actually, just run this code
}</code></pre>
				</section>
			</section>
			<section>
				<section>
					<h2>Bucles</h2>
					<pre><code class="js">for (var i = 0; i < cats.length; i++) {
  info += cats[i] + ', ';
}</code></pre>
					<p class="fragment">Podem sortir de qualsevol bucle fent servir <code>break</code>.</p>
					<p class="fragment">Podem saltar a la següent iteració d'un bucle fent servir <code>continue</code>.</p>
				</section>
				<section>
					<h2>Bucles</h2>
					<pre><code class="js">var i = 0;

while (i < cats.length) {
  if (i === cats.length - 1) {
    info += 'and ' + cats[i] + '.';
  } else {
    info += cats[i] + ', ';
  }

  i++;
}</code></pre>
				</section>
				<section>
					<h2>Bucles</h2>
					<pre><code class="js">var i = 0;

do {
  if (i === cats.length - 1) {
    info += 'and ' + cats[i] + '.';
  } else {
    info += cats[i] + ', ';
  }

  i++;
} while (i < cats.length);</code></pre>
				</section>
				<section>
					<h2>Exercici</h2>
					<p>Només volem deixar entrar aquells que comença el seu nom per A, B o C.</p>
					<pre><code class="js">var people = ['Chris', 'Anne', 'Colin', 'Terri', 'Phil', 'Lola', 'Sam', 'Kay', 'Bruce'];
var admitted = [];
var refused = []

// TODO.

console.log(admitted);
console.log(refused);</code></pre>
				</section>
			</section>
			<section>
				<section>
					<h2>Funcions</h2>
					<p>La declaració d'una funció, generalment, consta de <code>function</code> + paràmetres + les seves sentències entre claus</p>
					<pre><code class="js">function square(number) {
  return number * number;
}</code></pre>
				</section>
				<section>
					<h2>Valor vs. referència</h2>
					<p>Els tipus primaris es passen per valor (qualsevol canvi fet en una funció, no afecta al valor fora de l'àmbit d'aquesta).</p>
					<p class="fragment">En canvi amb objectes (com per exemple <code>Array</code> o un objecte definit) es passen per referència (els canvi fets dins l'àmbit d'una funció, afecten al seu valor fora d'aquesta).</p>
				</section>
				<section>
					<h2>Valor vs. referència</h2>
					<pre><code class="js">function myFunc(theObject) {
  theObject.make = 'Toyota';
}

var mycar = {make: 'Honda', model: 'Accord', year: 1998};
var x, y;

x = mycar.make; // x gets the value "Honda"

myFunc(mycar);
y = mycar.make; // y gets the value "Toyota"</code></pre>
				</section>
				<section>
					<h2>Funcions anònimes</h2>
					<p>En JS no cal que una funció tingui nom per a ser definida.</p>
					<pre><code class="js">var myGreeting = function() {
  alert('hello');
}

myGreeting();</code></pre>
				</section>
				<section>
					<h2>Funcions anònimes</h2>
					<p>El típic ús de les funcions anònimes, entre d'altres, és l'assignació de codi a un esdeveniment.</p>
					<pre><code class="js">myButton.onclick = function() {
  alert('hello');
  // I can put as much code
  // inside here as I want
}</code></pre>
				</section>
				<section>
					<h2>Un cas especial</h2>
					<p><code>apply()</code> ens permet cridar a una funció amb els seus paràmetres en format array</p>
					<pre><code class="js">var numbers = [5, 6, 2, 3, 7];

var max = Math.max.apply(null, numbers);

console.log(max); // 7</code></pre>
				</section>
				<section>
					<h2>Paràmetres</h2>
					<p>Per defecte, els paràmetres tenen com a valor <code>undefined</code>.</p>
					<p class="fragment">Amb ES6 ja podem tenir paràmetres per defecte.</p>
					<pre class="fragment"><code class="js">// Before ES6.
function multiply(a, b) {
  b = typeof b !== 'undefined' ?  b : 1;
  return a * b;
}

multiply(5); // 5

// Now.
function multiply(a, b = 1) {
  return a * b;
}

multiply(5); // 5</code></pre>
				</section>
				<section>
					<h2>L'objecte <code>arguments</code></h2>
					<p>Els paràmetres d'una funció s'emmagatzemen tots en un objecte "array" especial.</p>
					<pre><code class="js">function myConcat(separator) {
  var result = ''; // initialize list
  // iterate through arguments
  for (var i = 1; i < arguments.length; i++) {
    result += arguments[i] + separator;
  }
  return result;
}

// returns "red, orange, blue, "
myConcat(', ', 'red', 'orange', 'blue');</code></pre>
				</section>
				<section>
					<h2>La resta...</h2>
					<p>ES6 introdueix el concepte de <em>rest parameter</em></p>
					<pre><code class="js">function multiply(multiplier, ...theArgs) {
  return theArgs.map(x => multiplier * x);
}

var arr = multiply(2, 1, 2, 3);
console.log(arr); // [2, 4, 6]</code></pre>
				</section>
			</section>
			<section>
				<section>
					<h2>Closures</h2>
					<p>Un <em>closure</em> és la combinació d'una funció amb l'àmbit on aquesta ha estat declarada.</p>
					<pre><code class="js">function init() {
  var name = 'Ramon'; // name is a local variable created by init
  function displayName() { // displayName() is the inner function, a closure
    alert(name); // use variable declared in the parent function
  }
  displayName();
}
init();</code></pre>
				</section>
				<section>
					<h2>Closures</h2>
					<pre><code class="js">function makeFunc() {
  var name = 'Ramon';
  function displayName() {
    alert(name);
  }
  return displayName;
}

var myFunc = makeFunc();
myFunc();</code></pre>
				</section>
				<section>
					<h2>Closures</h2>
					<pre><code class="js">function makeAdder(x) {
  return function(y) {
    return x + y;
  };
}

var add5 = makeAdder(5);
var add10 = makeAdder(10);

console.log(add5(2));  // 7
console.log(add10(2)); // 12</code></pre>
				</section>
				<section>
					<h2>Emulant mètodes privats</h2>
					<pre><code class="js">var counter = (function() {
  var privateCounter = 0;
  function changeBy(val) {
    privateCounter += val;
  }
  return {
    increment: function() {
      changeBy(1);
    },
    decrement: function() {
      changeBy(-1);
    },
    value: function() {
      return privateCounter;
    }
  };
})();

console.log(counter.value()); // logs 0
counter.increment();
counter.increment();
console.log(counter.value()); // logs 2
counter.decrement();
console.log(counter.value()); // logs 1</code></pre>
				</section>
				<section>
					<h2>Emulant mètodes privats</h2>
					<p>Podem crear múltiples comptadors.</p>
					<pre><code class="js">var makeCounter = function() {
  var privateCounter = 0;
  function changeBy(val) {
    privateCounter += val;
  }
  return {
    increment: function() {
      changeBy(1);
    },
    decrement: function() {
      changeBy(-1);
    },
    value: function() {
      return privateCounter;
    }
  }
};

var counter1 = makeCounter();
var counter2 = makeCounter();
alert(counter1.value()); /* Alerts 0 */
counter1.increment();
counter1.increment();
alert(counter1.value()); /* Alerts 2 */
counter1.decrement();
alert(counter1.value()); /* Alerts 1 */
alert(counter2.value()); /* Alerts 0 */</code></pre>
				</section>
				<section>
					<h2>Recomanació d'ús</h2>
					<p>En general, és una bona pràctica englobar els vostres <em>scripts</em> en funcions anònimes per controlar l'àmbit d'actuació de les vostres variables</p>
					<pre><code class="js">(function() {
  var myVar;

  function myFunc() {
    ...
  }
})();</code></pre>
				</section>
			</section>
			<section>
				<section>
					<h2>Esdeveniment</h2>
					<p>Els esdeveniments es llancen dins del navegador cada cop que passa una cosa. N'hi ha diversos <a href="https://developer.mozilla.org/en-US/docs/Web/Events">tipus</a>:</p>
					<ul>
						<li>Un usuari fa clic en un element.</li>
						<li>Un usuari presiona una tecla.</li>
						<li>S'envia un formulari.</li>
						<li>Una pàgina s'acaba de carregar.</li>
					</ul>
				</section>
				<section>
					<h2>Un exemple</h2>
					<pre><code class="html">&lt;button&gt;Change color&lt;/button&gt;</code></pre>
					<pre><code class="js">var btn = document.querySelector('button');

function random(number) {
  return Math.floor(Math.random()*(number+1));
}

btn.onclick = function() {
  var rndCol = 'rgb(' + random(255) + ',' + random(255) + ',' + random(255) + ')';
  document.body.style.backgroundColor = rndCol;
}</code></pre>
				</section>
				<section>
					<h2>Prohibit</h2>
					<p>Mai afegir <em>event handlers</em> en línia dins l'HTML.</p>
					<pre><code class="html">&lt;button onclick="bgChange()"&gt;Press me&lt;/button&gt;</code></pre>
					<p>A part de no ser bo barrejar HTML i JS en un mateix context, és difícil de gestionar i de mantenir.</p>
				</section>
				<section>
					<h2><code>addEventListener()</code></h2>
					<p>Una forma alternativa d'associar funcions a esdeveniments.</p>
					<pre><code class="js">var btn = document.querySelector('button');

btn.addEventListener('click', function() {
  var rndCol = 'rgb(' + random(255) + ',' + random(255) + ',' + random(255) + ')';
  document.body.style.backgroundColor = rndCol;
});</code></pre>
				</section>
				<section>
					<h2><code>removeEventListener()</code></h2>
					<p>També podem esborrar funcions, <em>listeners</em>, quan aquests ja no siguin necessaris.</p>
					<pre><code class="js">btn.removeEventListener('click', bgChange);</code></pre>
					<p class="fragment">Això, per aplicacions complexes, pot ser molt important per a poder alleugerir la pàgina d'esdeveniments.</p>
				</section>
				<section>
					<h2>Diferències</h2>
					<p>Què fa això?</p>
					<pre><code class="js">myElement.onclick = functionA;
myElement.onclick = functionB;</code></pre>
					<p class="fragment"><code>functionB</code> sobreescriu la funció anterior.</p>
				</section>
				<section>
					<h2>Diferències - solució</h2>
					<pre><code class="js">myElement.addEventListener('click', functionA);
myElement.addEventListener('click', functionB);</code></pre>
				</section>
				<section>
					<h2>L'objecte <code>Event</code></h2>
					<p>Sempre, a tota funció associada a un esdeveniment se li passa un paràmetre que és l'objecte de l'esdeveniment llançat.</p>
					<pre><code class="js">function bgChange(e) {
  var rndCol = 'rgb(' + random(255) + ',' + random(255) + ',' + random(255) + ')';
  e.target.style.backgroundColor = rndCol;
  console.log(e);
}

btn.addEventListener('click', bgChange);</code></pre>
				</section>
				<section>
					<h2>Evitar el comportament</h2>
					<pre><code class="html">&lt;a href="http://ymbra.com" title="Ymbra"&gt;Click me!&lt;/a&gt;</code></pre>
					<pre><code class="js" data-noescape>var link = document.querySelector('a');
link.onclick = function(e) {
  <span class="fragment">e.preventDefault();</span>
  alert(e.target.title + ' - ' + e.target.href);
}</code></pre>
					<p class="fragment">Un altre ús pot ser la validació d'un formulari.</p>
				</section>
				<section>
					<h2><em>Event bubbling</em> i <em>capture</em></h2>
					<p>Un exemple</p>
					<pre><code class="html">&lt;button&gt;Display video&lt;/button&gt;
&lt;div class="hidden"&gt;
  &lt;video&gt;
    &lt;source src="rabbit320.mp4" type="video/mp4"&gt;
    &lt;source src="rabbit320.webm" type="video/webm"&gt;
    &lt;p&gt;Your browser doesn't support HTML5 video. Here is a &lt;a href="rabbit320.mp4"&gt;link to the video&lt;/a&gt; instead.&lt;/p&gt;
  &lt;/video&gt;
&lt;/div&gt;</code></pre>
				</section>
				<section>
					<h2><em>Event bubbling</em> i <em>capture</em></h2>
					<pre><code class="js">btn.onclick = function() {
  videoBox.setAttribute('class', 'showing');
};

videoBox.onclick = function() {
  videoBox.setAttribute('class', 'hidden');
};

video.onclick = function() {
  video.play();
};</code></pre>
				</section>
				<section>
					<h2><em>Event bubbling</em> i <em>capture</em></h2>
					<p><img src="images/bubbling-capturing.png" style="background: #fff" /></p>
				</section>
				<section>
					<h2><em>Event bubbling</em> i <em>capture</em></h2>
					<p>Quan salta un esdeveniment, la majoria de navegadors moderns inicien dos fases: la captura i el <em>bubbling</em> de l'esdeveniment.</p>
					<p class="fragment">A la majoria de navegadors moderns, els esdeveniments es llancen durant la fase de <em>bubbling</em>.</p>
				</section>
				<section>
					<h2><em>Event bubbling</em> i <em>capture</em></h2>
					<p>Per arreglar el problema anterior només cal usar <code>stopPropagation()</code></p>
					<pre><code class="js">video.onclick = function(e) {
  e.stopPropagation();
  video.play();
};</code></pre>
				</section>
				<section>
					<h2>Exercici</h2>
					<p>Amb un únic <em>listener</em> fer que al fer clic en un element de la llista mostri un missatge del tipus "He fet clic a l'element 4 de la llista"</p>
					<pre><code class="html">&lt;ul&gt;
  &lt;li id="item-1"&gt;Item 1&lt;/li&gt;
  &lt;li id="item-2"&gt;Item 2&lt;/li&gt;
  &lt;li id="item-3"&gt;Item 3&lt;/li&gt;
  &lt;li id="item-4"&gt;Item 4&lt;/li&gt;
  &lt;li id="item-5"&gt;Item 5&lt;/li&gt;
  &lt;li id="item-6"&gt;Item 6&lt;/li&gt;
&lt;/ul&gt;</code></pre>
				</section>
			</section>
			<section>
				<section>
					<h2>Objectes</h2>
					<p>Per crear un objecte amb JS és tan senzill com declarar una variable amb <code>{}</code>.</p>
					<pre><code class="js">var person = {};</code></pre>
				</section>
				<section>
					<h2>Objectes</h2>
					<p>Un objecte pot tenir propietats i mètodes.</p>
					<pre><code class="js">var person = {
  name: ['Ramon', 'Vilar'],
  age: 34,
  gender: 'male',
  interests: ['mtb', 'books'],
  bio: function() {
    alert(this.name[0] + ' ' + this.name[1] + ' is ' + this.age + ' years old. He likes ' + this.interests[0] + ' and ' + this.interests[1] + '.');
  }
};</code></pre>
				</section>
				<section>
					<h2>Objectes - accés</h2>
					<p>Podem accedir a les seves propietats i mètodes usant <code>.</code>.</p>
					<pre><code class="js">person.name[0];
person.age;
person.interests[1];
person.bio();</code></pre>
				</section>
				<section>
					<h2>Objectes - accés</h2>
					<p>Hi ha una forma alternativa d'accedir-hi.</p>
					<pre><code class="js">person['name'][0];
person['age'];</code></pre>
					<p class="fragment">Això ens pot servir per crear elements dinàmics dins d'un objecte</p>
					<pre class="fragment"><code>var propertyName = 'city';
person[propertyName] = 'Montcada i Reixac';</code></pre>
				</section>
				<section>
					<h2>JavaScript OOP</h2>
					<p>A JS també podem crear classes i instanciar-les (ja veurem més tard les diferències amb d'altres llenguatges de programació).</p>
					<pre><code class="js">function Person(name) {
  this.name = name;
  this.greeting = function() {
    alert('Hi! I\'m ' + this.name + '.');
  };
}

var person1 = new Person('Marta');
var person2 = new Person('Èlia');
</code></pre>
				</section>
				<section>
					<h2>JavaScript OOP</h2>
					<pre><code class="js">{
  name: 'Bob',
  greeting: function() {
    alert('Hi! I\'m ' + this.name + '.');
  }
}

{
  name: 'Sarah',
  greeting: function() {
    alert('Hi! I\'m ' + this.name + '.');
  }
}</code></pre>
					<p class="fragment">Això defineix cada cop la funció <code>greetings</code>!</p>
				</section>
				<section>
					<h2>Herència vs. <em>prototype</em></h2>
					<p>El JavaScript és un <em>prototype-based language</em></p>
					<p class="fragment">Això vol dir que cada objecte té una "plantilla" sobre el qual es basa (hereta tots els mètodes i propietats).</p>
					<p class="fragment">Igualment, aquest objecte plantilla (<em>object prototype</em>) pot tenir a la vegada, un altre objecte sobre el que hereta informació.</p>
					<p class="fragment">Això s'anomena <em>prototype chain</em></p>
				</section>
				<section>
					<h2>Un exemple</h2>
					<pre><code class="js">Person.prototype.farewell = function() {
  alert(this.name.first + ' has left the building. Bye for now!');
};</code></pre>
					<p class="fragment">A partir d'ara, qualsevol objecte de tipus <code>Person</code> té un nou mètode encara que ja hagi estat instanciat.</p>
				</section>
				<section>
					<h2>En resum</h2>
					<p>El patró típic en la definició d'objectes que s'utilitza és definir les propietats al constructor i els mètodes a <code>prototype</code>.</p>
					<pre><code class="js">function Test(a, b, c, d) {
  // property definitions
}

Test.prototype.x = function() { ... };

Test.prototype.y = function() { ... };</code></pre>
				</section>
			</section>
			<section>
				<section>
					<h2>Manipulació del DOM</h2>
					<p>Per poder modificar l'estructura de la nostra pàgina hem de treballar directament amb el <em>Document Object Model</em> (DOM).</p>
					<p class="fragment">El JS ens ofereix una sèrie d'APIs per a poder manipular la seva informació fins a obtenir allò que busquem.</p>
				</section>
				<section>
					<img src="images/document-window-navigator.png" />
				</section>
				<section>
					<h2>El DOM</h2>
					<pre><code class="html">&lt;!DOCTYPE html&gt;
&lt;html&gt;
  &lt;head&gt;
    &lt;meta charset="utf-8"&gt;
    &lt;title&gt;Simple DOM example&lt;/title&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;section&gt;
      &lt;img src="dinosaur.png" alt="A red Tyrannosaurus Rex: A two legged dinosaur standing upright like a human, with small arms, and a large head with lots of sharp teeth."&gt;
      &lt;p&gt;Here we will add a link to the &lt;a href="https://www.mozilla.org/"&gt;Mozilla homepage&lt;/a&gt;&lt;/p&gt;
    &lt;/section&gt;
  &lt;/body&gt;
&lt;/html&gt;</code></pre>
				</section>
				<section>
					<img src="images/dom-screenshot.png" />
				</section>
				<section>
					<h2>Selectors</h2>
					<pre><code class="js">var link = document.querySelector('a');
// link is HTMLAnchorElement
link.textContent = 'Mozilla Developer Network';
					</code></pre>
					<p class="fragment">Per seleccionar-ne múltiples es pot usar <code>querySelectorAll()</code></p>
				</section>
				<section>
					<h2>Crear elements</h2>
					<pre><code class="js">var sect = document.querySelector('section');
var para = document.createElement('p');
para.textContent = 'I hope you enjoyed the course.';
sect.appendChild(para);</code></pre>
				</section>
				<section>
					<h2>Eliminar elements</h2>
					<pre><code class="js">sect.removeChild(para);</code></pre>
				</section>
				<section>
					<h2>Manipular estils</h2>
					<pre><code class="js">para.style.color = 'white';
para.style.backgroundColor = 'black';
para.style.padding = '10px';</code></pre>
				</section>
				<section>
					<h2>Manipular atributs</h2>
					<pre><code class="js">para.setAttribute('class', 'highlight');</code></pre>
					<p class="fragment">Això ens serveix per a qualsevol atribut HTML.</p>
				</section>
				<section>
					<h2>Exercici</h2>
					<pre><code class="html">&lt;h1&gt;My shopping list&lt;/h1&gt;
&lt;div&gt;
  &lt;label for="item"&gt;Enter a new item:&lt;/label&gt;
  &lt;input type="text" name="item" id="item"&gt;
  &lt;button&gt;Add item&lt;/button&gt;
&lt;/div&gt;
&lt;ul&gt;&lt;/ul&gt;</code></pre>
				</section>
				<section>
					<h2>Exercici</h2>
					<img src="images/shopping-list.png" />
				</section>
				<section>
					<h2>Solució</h2>
					<pre><code class="js">var button = document.querySelector('button');
var input = document.querySelector('input');
var list = document.querySelector('ul');

button.addEventListener('click', function (e) {
  var item = input.value;

  if (item) {
    // Create li element.
    var li = document.createElement('li');
    li.textContent = item;
    list.appendChild(li);
    input.value = '';

    // Create a delete button.
    var button = document.createElement('button');
    button.textContent = 'Delete';
    li.appendChild(button);

    // Add an event to delete line item.
    button.onclick = function () {
      list.removeChild(li);
    };
  }
});</code></pre>
				</section>
			</section>
			<section>
				<section>
					<h2>jQuery</h2>
					<p>És una biblioteca JavaScript.</p>
					<p class="fragment">Per treballar i entendre jQuery es recomana un coneixement sòlid de JS.</p>
				</section>
				<section>
					<h2>JS <code>onload</code> vs. jQuery <code>ready</code></h2>
					<pre><code class="js">window.onload = function() {
  alert("Welcome to JS world!");
};</code></pre>
					<p class="fragment">Espera que tota la pàgina es carregui - incloent imatges o bàners.</p>
					<p class="fragment">Molt lent i massa tard! Enlenteix la pàgina.</p>
				</section>
				<section>
					<h2>JS <code>onload</code> vs. jQuery <code>ready</code></h2>
					<pre><code class="js">$(document).ready(function() {
  alert("Welcome to jQuery world!");
});</code></pre>
					<p><code>.ready()</code> permet poder executar JS quan el DOM ja està carregat i pot ser manipulat.</p>
				</section>
				<section>
					<h2><code>$</code></h2>
					<p>jQuery crea un àlies a <code>$</code> per poder usar la selecció d'elements i cridar a les seves funcions específiques</p>
					<ul class="fragment">
						<li>Els mètodes que es criden sobre una selecció d'elements estan a l'espai de noms <code>$.fn</code> i reben i retornen la selecció com a <code>this</code></li>
						<li>Mètodes a l'espai de noms <code>$</code> són utilitats, com per exemple <code>$.ajax()</code></li>
					</ul>
				</section>
				<section>
					<h2>Selectors</h2>
					<p>Es pot fer servir qualsevol selector CSS per poder navegar (a més a més d'alguns especials propis).</p>
					<pre><code class="js">$('#myId');
$('.myClass');
$('input[name="first_name"]');
$('#contents ul.people li');  // Needs improvement.
$('div.myClass, ul.people');
$('tr:odd');
$('form :checked');</code></pre>
				</section>
				<section>
					<h2>Selectors - refinant</h2>
					<p>Una vegada feta una cerca es pot refinar en operacions posteriors</p>
					<pre><code class="js">$('div.foo').has('p');           // div.foo elements that contain 'p' tags
$('h1').not('.bar');             // h1 elements that don't have a class of bar
$('ul li').filter('.current');   // unordered list items with class of current
$('ul li').first();              // just the first unordered list item
$('ul li').eq(5);                // the sixth</code></pre>
				</section>
				<section>
					<h2>Resultats en una selecció</h2>
					<p>Qualsevol selector retorna un objecte jQuery.</p>
					<p class="fragment">Per conèixer si un selector retorna algun element, només cal mirar la propietat <code>length</code> de l'objecte jQuery</p>
					<pre class="fragment"><code class="js">if ($('h1').length) {
  // My code.
}</code></pre>
				</section>
				<section>
					<h2>Getters & setters</h2>
					<p>Hi ha mètodes per obtenir i modificar valors.</p>
					<pre><code class="js">$('input').val(); // gets value.
$('input').val(myValue); // sets value.

$('input').attr('checked'); // gets value.
$('input').attr('checked', true); // sets value.</code></pre>
				</section>
				<section>
					<h2>Encadenament</h2>
					<p>La majoria de crides a mètode de jQuery retornen un objecte jQuery. Això ens permet encadenar mètodes</p>
					<pre><code class="js">$('#main').find('.list-item').eq(4).html('Hello world!');</code></pre>
					<p class="fragment">Sovint en aquests casos es mostra en múltiples línies</p>
					<pre class="fragment"><code class="js">$('#main')
  .find('.list-item')
  .eq(4)
  .html('Hello world!');</code></pre>
				</section>
				<section>
					<h2>Encadenament</h2>
					<p>Es pot tornar a la selecció anterior tot usant <code>.end()</code></p>
					<pre class="fragment"><code class="js">$('#main')
  .find('.list-item')
  .eq(4)
    .html('Hello world!')
    .end()
  .eq(155)
    .addClass('remove');</code></pre>
					<p class="fragment">És una de les grans potències de jQuery.</p>
				</section>
				<section>
					<h2><code>$.each()</code> vs. <code>.each()</code></h2>
					<p>Podem usar <code>$.each()</code> per iterar sobre objectes o sobre un array (similar al <code>forEach()</code> nadiu) de forma fàcil.</p>
					<pre><code class="js">$.each([ 52, 97 ], function( index, value ) {
  alert(index + ': ' + value);
});</code></pre>
				</section>
				<section>
					<h2><code>$.each()</code> vs. <code>$.fn.each()</code></h2>
					<p>Usem <code>.each()</code> per iterar sobre un objecte jQuery i poder fer accions sobre cadascun dels seus elements.</p>
					<pre><code class="html">&lt;ul&gt;
  &lt;li&gt;foo&lt;/li&gt;
  &lt;li&gt;bar&lt;/li&gt;
&lt;/ul&gt;</code></pre>
					<pre><code class="js">$('li').each(function(index) {
  console.log(index + ': ' + $(this).text());
});</code></pre>
				</section>
				<section>
					<h2>Manipulació del DOM</h2>
					<p>Existeixen múltiples funcions que ens permeten la manipulació del DOM.</p>
					<pre><code class="js">$('.modal-video').appendTo('body');</code></pre>
					<p class="fragment">Altres funcions interessants: <code>.insertAfter() .after() .insertBefore() .prepend() .prependTo()</code>...</p>
				</section>
				<section>
					<h2>Manipulació del DOM</h2>
					<p>També es poden clonar elements fàcilment.</p>
					<pre><code class="js">$('.modal-video').clone().appendTo('body');</code></pre>
					<p class="fragment">I eliminar elements.</p>
					<pre class="fragment"><code class="js">$('.modal-video').remove();</code></pre>
					<p class="fragment"><code>.empty()</code> i <code>.detach()</code> són d'altres funcions interessants.</p>
				</section>
				<section>
					<h2>Crear nous elements al DOM.</h2>
					<p>Diverses formes de crear-ne</p>
					<pre><code class="js">$('&lt;p&gt;This is a new paragraph&lt;/p&gt;');

$('&lt;a/&gt;', {
  html: 'My &lt;strong&gt;new&lt;/strong&gt; link',
  'class': 'new',
  href: 'http://ymbra.com'
});

$('ul').append('&lt;li&gt;list item&lt;/li&gt;');</code></pre>
				</section>
				<section>
					<h2>Crear nous elements al DOM - Recomanació</h2>
					<p>Mai crear i afegir nous elements al DOM dins d'un bucle. Podem crear un array i després bolcar-lo de cop.</p>
					<pre><code class="js">var myItems = [];
var myList = $('#myList');

for (var i = 0; i < 100; i++) {
  myItems.push('&lt;li&gt;item ' + i + '&lt;/li&gt;');
}

myList.append(myItems.join(''));</code></pre>
				</section>
				<section>
					<h2>Traversing</h2>
					<p>Des d'un element del DOM podem accedir als seus pares, germans, etc. de forma fàcil i senzilla</p>
					<pre><code class="js">$('.element').parent();
$('.element').parents();
$('.element').parents('.my-class');
$('.element').parentsUntil('.my-class');
$('.element').closest('.my-class');
$('.element').next();
$('.element').prev();
$('.element').siblings();</code></pre>
				</section>
				<section>
					<h2>Esdeveniments</h2>
					<p>Diverses formes d'afegir un o varis esdeveniments.</p>
					<pre><code class="js">$('p').click(function() {
  console.log('You clicked a paragraph!');
});

$('p').on('click', function() {
  console.log('You clicked a paragraph!');
});</code></pre>
					<p class="fragment">La funció <code>.on()</code> és la forma recomanada i permet moltes opcions interessants com escoltar esdeveniments en elements que futurs.</p>
				</section>
				<section>
					<h2>Esdeveniments - Recomanacions</h2>
					<p>Quan un esdeveniment ja no tingui sentit, el podem desconnectar usant <code>.off()</code></p>
					<p class="fragment">En cas d'aplicacions grans o desenvolupament d'una biblioteca, es recomana usar esdeveniments amb <em>namespace</em>.</p>
					<pre class="fragment"><code class="js">$(element).on('click.myLibrary', myFunc);
$(form).on('submit.myLibrary', mySubmitFunc);
...
$(element).off('myLibrary');</code></pre>
				</section>
				<section>
					<h2>Esdeveniments personalitzats</h2>
					<p>Si estem creant un giny o una biblioteca, ens pot interessar el llançament d'un esdeveniment personalitzat en un moment determinat.</p>
					<p class="trigger">Això es pot fer usant la funció <code>.trigger()</code> tot passant-li un nom per al nostre nou esdeveniment.</p>
				</section>
				<section>
					<h2>Esdeveniments personalitzats</h2>
					<pre><code class="js">$('.lightbulb').on('light:toggle', function(event) {
  // My code.
});

$('.switch').click(function() {
  $('.lightbulb').trigger('light:toggle');
});</code></pre>
				</section>
				<section>
					<h2>Exercici</h2>
					<p>Feu el mateix exercici de la llista de la compra però usant jQuery.</p>
					<img src="images/shopping-list.png" />
				</section>
			</section>
			<section>
				<section>
					<h2>Plugins jQuery</h2>
					<p>Crear un connector per a jQuery és d'allò més fàcil. Partim del següent codi.</p>
					<pre class="fragment"><code class="js">$('a').css('color', 'green');</code></pre>
					<p class="fragment">Agafem com a exemple un connector que modifiqui qualsevol element fent que el seu text passi a ser de color verd. És tan senzill com:</p>
					<pre class="fragment"><code class="js">$.fn.greenify = function() {
  this.css('color', 'green');
	return this;
};

$('a').greenify();</code></pre>
				</section>
				<section>
					<h2>Protegir</h2>
					<p>De cara a protegir qualsevol funció auxiliar o variable que puguem crear, es recomana sempre envoltar-ho d'una funció anònima passant <code>jQuery</code> per a protegir l'àmbit de declaració de <code>$</code></p>
					<pre><code class="js">(function ($) {

  var shade = '#556b2f';

  $.fn.greenify = function() {
    this.css('color', shade);
    return this;
  };

}(jQuery));</code></pre>
				</section>
				<section>
					<h2>Plugins amb paràmetres</h2>
					<pre><code class="js">(function ($) {

  $.fn.greenify = function(options) {

    // This is the easiest way to have default options.
    var settings = $.extend({
      color: '#556b2f',
      backgroundColor: '#fff'
    }, options);

    return this.css({
      color: settings.color,
      backgroundColor: settings.backgroundColor
    });

  };

}( jQuery ));</code></pre>
					<pre><code class="js">$('div').greenify({
  color: 'yellow'
});</code></pre>
				</section>
			</section>
			<section>
				<section>
					<h2>Arquitectura de la web clàsica</h2>
					<p>La típica arquitectura web de client servidor és completament síncrona.</p>
					<img src="images/web-site-architechture@2x.png" style="background: #fff" />
				</section>
				<section>
					<h2>Arquitectura "moderna"</h2>
					<p>Des d'uns anys ençà existeix la comunicació asíncrona inicialment amb Ajax.</p>
					<img src="images/moderne-web-site-architechture@2x.png" style="background: #fff" />
				</section>
				<section>
					<h2>Arquitectura d'app</h2>
					<p>Des de fa anys que hi ha moltes més possibilitats com els Web Sockets, Web Storage entre d'altres.</p>
					<img src="images/web-app-architecture@2x.png" style="background: #fff; width: 60%" />
				</section>
				<section>
					<h2>L'objecte XMLHttpRequest</h2>
					<p>Aquesta tecnologia, també anomenada XHR fou inventada per Microsoft als 90.</p>
					<pre><code class="js">var request = new XMLHttpRequest();
request.open('GET', url);
request.responseType = 'json';

request.onload = function() {
  if (request.status === 200) {
    console.dir(request.response);
  } else {
    console.log('Error ' + request.status + ': ' + request.statusText);
  }
};

request.send();</code></pre>
				</section>
				<section>
					<h2>Promises/Fetch: el futur?</h2>
					<pre><code class="js">fetch(url).then(function(response) {
  if (response.ok) {
    response.json().then(function(json) {
      console.log(json);
    });
  } else {
    console.log('Error ' + response.status + ': ' + response.statusText);
  }
});</code></pre>
				</section>
				<section>
					<h2>Ajax amb jQuery</h2>
					<p>jQuery disposa d'una funció <code>$.ajax()</code> per a fer crides i gestionar les seves respostes.</p>
					<pre><code class="js">$.ajax({
  url: 'post.php',
  data: {    // Data to send (as a query string).
    id: 123
  },
  type: 'GET',
  dataType : 'json', // The type of data we expect back.
})</code></pre>
				</section>
				<section>
					<h2>Ajax amb jQuery</h2>
					<p>Disposa d'una funció que crida la petició quan aquesta cabaa amb èxit.</p>
					<pre><code class="js">.done(function(json) {
  $('&lt;h1&gt;').text(json.title).appendTo('body');
})</code></pre>
				</section>
				<section>
					<h2>Ajax amb jQuery</h2>
					<p>Igualment disposa també d'una funció que es crida si hi ha cap error amb la petició.</p>
					<pre><code class="js">.fail(function(xhr, status, errorThrown) {
  console.log('Error: ' + errorThrown);
  console.log('Status: ' + status);
  console.dir(xhr);
})</code></pre>
				</section>
				<section>
					<h2>Ajax amb jQuery</h2>
					<p>I una funció especial perquè, passi el que passi (error o èxit), es cridi.</p>
					<pre><code class="js"> .always(function(xhr, status) {
  alert('The request is complete!');
});</code></pre>
				</section>
				<section>
					<h2>Exercici</h2>
					<p>Treballant amb l'API de Meetup (<a href="https://secure.meetup.com/meetup_api">https://secure.meetup.com/meetup_api</a>) creeu un formulari bàsic per a cercar grups usant la funció <code>/find/groups/</code></p>
				</section>
			</section>
			</div>
		</div>

		<script src="lib/js/head.min.js"></script>
		<script src="js/reveal.js"></script>

		<script>
			// More info about config & dependencies:
			// - https://github.com/hakimel/reveal.js#configuration
			// - https://github.com/hakimel/reveal.js#dependencies
			Reveal.initialize({
				dependencies: [
					{ src: 'plugin/markdown/marked.js' },
					{ src: 'plugin/markdown/markdown.js' },
					{ src: 'plugin/notes/notes.js', async: true },
					{ src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } }
				]
			});
		</script>
	</body>
</html>
